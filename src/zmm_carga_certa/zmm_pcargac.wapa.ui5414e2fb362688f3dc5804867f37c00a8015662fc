sap.ui.define(["sap/ui/core/mvc/Controller", "sap/m/MessageBox", "sap/m/MessageToast"], function(e, t, a) {                                                                                                                                                    
    "use strict";                                                                                                                                                                                                                                              
    return e.extend("br.com.trescoracoes.prcargacertaf.controller.View1", {                                                                                                                                                                                    
        onInit: function() {                                                                                                                                                                                                                                   
            var oServiceUrl = "/sap/opu/odata/sap/ZMM_CARGACERTA_VARI_SRV";                                                                                                                                                                                    
            var oModel = new sap.ui.model.odata.v2.ODataModel(oServiceUrl, {                                                                                                                                                                                   
                useBatch: true                                                                                                                                                                                                                                 
            });                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                               
            this.getView().setModel(oModel);                                                                                                                                                                                                                   
            this.localModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                               
            this.getView().setModel(this.localModel, "localModel");                                                                                                                                                                                            
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                                                                                                                                                                                                   
        },                                                                                                                                                                                                                                                     
        onExecutarPress: function() {                                                                                                                                                                                                                          
            debugger;                                                                                                                                                                                                                                          
            var e = this.getView().byId("InputTran").getSelectedKey();                                                                                                                                                                                         
            var a = this.getView().byId("InputVari").getValue();                                                                                                                                                                                               
            var o = "/sap/opu/odata/sap/ZUI_O2_PLANLOG_EXECUTE";                                                                                                                                                                                               
            var r = new sap.ui.model.odata.v2.ODataModel(o, {                                                                                                                                                                                                  
                useBatch: true                                                                                                                                                                                                                                 
            });                                                                                                                                                                                                                                                
            if (!e) {                                                                                                                                                                                                                                          
                jQuery.sap.require("sap.m.MessageBox");                                                                                                                                                                                                        
                sap.m.MessageBox.show("Campo Transação Obrigatório!", {                                                                                                                                                                                        
                    icon: sap.m.MessageBox.Icon.ERROR,                                                                                                                                                                                                         
                    title: "Informação",                                                                                                                                                                                                                       
                    actions: sap.m.MessageBox.Action.OK,                                                                                                                                                                                                       
                    onClose: null,                                                                                                                                                                                                                             
                    styleClass: "",                                                                                                                                                                                                                            
                    initialFocus: null,                                                                                                                                                                                                                        
                    textDirection: sap.ui.core.TextDirection.Inherit,                                                                                                                                                                                          
                    verticalScrolling: true,                                                                                                                                                                                                                   
                    horizontalScrolling: true                                                                                                                                                                                                                  
                });                                                                                                                                                                                                                                            
                return                                                                                                                                                                                                                                         
            }                                                                                                                                                                                                                                                  
            if (!a) {                                                                                                                                                                                                                                          
                jQuery.sap.require("sap.m.MessageBox");                                                                                                                                                                                                        
                sap.m.MessageBox.show("Campo Variante Obrigatório!", {                                                                                                                                                                                         
                    icon: sap.m.MessageBox.Icon.ERROR,                                                                                                                                                                                                         
                    title: "Informação",                                                                                                                                                                                                                       
                    actions: sap.m.MessageBox.Action.OK,                                                                                                                                                                                                       
                    onClose: null,                                                                                                                                                                                                                             
                    styleClass: "",                                                                                                                                                                                                                            
                    initialFocus: null,                                                                                                                                                                                                                        
                    textDirection: sap.ui.core.TextDirection.Inherit,                                                                                                                                                                                          
                    verticalScrolling: true,                                                                                                                                                                                                                   
                    horizontalScrolling: true                                                                                                                                                                                                                  
                });                                                                                                                                                                                                                                            
                return                                                                                                                                                                                                                                         
            }                                                                                                                                                                                                                                                  
            var i = "/ZC_MM_PLANLOG_EXECUTE_GET";                                                                                                                                                                                                              
            var s = {                                                                                                                                                                                                                                          
                ztran: e,                                                                                                                                                                                                                                      
                zvari: a                                                                                                                                                                                                                                       
            };                                                                                                                                                                                                                                                 
            var n = {                                                                                                                                                                                                                                          
                success: function(e, t) {                                                                                                                                                                                                                      
                    debugger;                                                                                                                                                                                                                                  
                    jQuery.sap.require("sap.m.MessageBox");                                                                                                                                                                                                    
                    sap.m.MessageBox.show("Programa executado com sucesso! ", {                                                                                                                                                                                
                        icon: sap.m.MessageBox.Icon.SUCCESS,                                                                                                                                                                                                   
                        title: "Informação",                                                                                                                                                                                                                   
                        actions: sap.m.MessageBox.Action.OK,                                                                                                                                                                                                   
                        onClose: function(e) {},                                                                                                                                                                                                               
                        styleClass: "",                                                                                                                                                                                                                        
                        initialFocus: null,                                                                                                                                                                                                                    
                        textDirection: sap.ui.core.TextDirection.Inherit,                                                                                                                                                                                      
                        verticalScrolling: true,                                                                                                                                                                                                               
                        horizontalScrolling: true                                                                                                                                                                                                              
                    })                                                                                                                                                                                                                                         
                },                                                                                                                                                                                                                                             
                error: function(e) {                                                                                                                                                                                                                           
                    debugger;                                                                                                                                                                                                                                  
                    var a = JSON.parse(e.responseText);                                                                                                                                                                                                        
                    var o = a.error.innererror.errordetails[0].message;                                                                                                                                                                                        
                    t.show("" + o, {                                                                                                                                                                                                                           
                        icon: sap.m.MessageBox.Icon.ERROR,                                                                                                                                                                                                     
                        title: "Informação",                                                                                                                                                                                                                   
                        actions: sap.m.MessageBox.Action.OK,                                                                                                                                                                                                   
                        styleClass: "",                                                                                                                                                                                                                        
                        initialFocus: null,                                                                                                                                                                                                                    
                        textDirection: sap.ui.core.TextDirection.Inherit,                                                                                                                                                                                      
                        verticalScrolling: true,                                                                                                                                                                                                               
                        horizontalScrolling: true                                                                                                                                                                                                              
                    })                                                                                                                                                                                                                                         
                }                                                                                                                                                                                                                                              
            };                                                                                                                                                                                                                                                 
            r.create(i, s, n)                                                                                                                                                                                                                                  
        },                                                                                                                                                                                                                                                     
        onSelectionChange: function(e) {                                                                                                                                                                                                                       
            debugger;                                                                                                                                                                                                                                          
            var aFilters = [];                                                                                                                                                                                                                                 
            this.getView().byId("InputVari").setEnabled(true);                                                                                                                                                                                                 
            var t = this.getView().byId("InputVari");                                                                                                                                                                                                          
            var a = this.getView().byId("InputTran").getSelectedKey();                                                                                                                                                                                         
            aFilters.push(new sap.ui.model.Filter("Report", sap.ui.model.FilterOperator.EQ, a));                                                                                                                                                               
            aFilters.push(new sap.ui.model.Filter("App", sap.ui.model.FilterOperator.EQ, "CARGA"));                                                                                                                                                            
            t.getBinding("items").filter(aFilters, sap.ui.model.FilterType.Application);                                                                                                                                                                       
            t.setSelectedKey()                                                                                                                                                                                                                                 
            debugger;                                                                                                                                                                                                                                          
        },                                                                                                                                                                                                                                                     
        onLoadVariant: function(e) {                                                                                                                                                                                                                           
            debugger;                                                                                                                                                                                                                                          
            var aFilters = [];                                                                                                                                                                                                                                 
            var t = this.getView().byId("InputTran").getSelectedKey();                                                                                                                                                                                         
            aFilters.push(new sap.ui.model.Filter("Report", sap.ui.model.FilterOperator.EQ, t));                                                                                                                                                               
                                                                                                                                                                                                                                                               
            aFilters.push(new sap.ui.model.Filter("App", sap.ui.model.FilterOperator.EQ, "CARGA"));                                                                                                                                                            
                                                                                                                                                                                                                                                               
            e.getSource().getBinding("items").filter(aFilters, sap.ui.model.FilterType.Application)                                                                                                                                                            
        }                                                                                                                                                                                                                                                      
    })                                                                                                                                                                                                                                                         
});                                                                                                                                                                                                                                                            