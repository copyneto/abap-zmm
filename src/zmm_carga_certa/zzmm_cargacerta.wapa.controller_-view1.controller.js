sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/MessageToast"],function(e,t,a){"use strict";return e.extend("br.com.trescoracoes.pcargacerta.controller.View1",{onInit:function(){var e="/sap/opu/odata/sap/ZUI_O2_PLANLOG_EXECUTE";var +
t=new sap.ui.model.odata.v2.ODataModel(e,{useBatch:true});this.getView().setModel(t);this.localModel=new sap.ui.model.json.JSONModel;this.getView().setModel(this.localModel,"localModel")},onExecutarPress:function(){debugger;var e=this.getView().byId("Inp+
utTran").getSelectedKey();var a=this.getView().byId("InputVari").getValue();var o="/sap/opu/odata/sap/ZUI_O2_PLANLOG_EXECUTE";var r=new sap.ui.model.odata.v2.ODataModel(o,{useBatch:true});if(!e){jQuery.sap.require("sap.m.MessageBox");sap.m.MessageBox.sho+
w("Campo Transação Obrigatório!",{icon:sap.m.MessageBox.Icon.ERROR,title:"Informação",actions:sap.m.MessageBox.Action.OK,onClose:null,styleClass:"",initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit,verticalScrolling:true,horizontalScrolli+
ng:true});return}if(!a){jQuery.sap.require("sap.m.MessageBox");sap.m.MessageBox.show("Campo Variante Obrigatório!",{icon:sap.m.MessageBox.Icon.ERROR,title:"Informação",actions:sap.m.MessageBox.Action.OK,onClose:null,styleClass:"",initialFocus:null,textDi+
rection:sap.ui.core.TextDirection.Inherit,verticalScrolling:true,horizontalScrolling:true});return}var i="/ZC_MM_PLANLOG_EXECUTE_GET";var s={ztran:e,zvari:a};var n={success:function(e,t){debugger;jQuery.sap.require("sap.m.MessageBox");sap.m.MessageBox.sh+
ow("Programa executado com sucesso! ",{icon:sap.m.MessageBox.Icon.SUCCESS,title:"Informação",actions:sap.m.MessageBox.Action.OK,onClose:function(e){},styleClass:"",initialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit,verticalScrolling:true,h+
orizontalScrolling:true})},error:function(e){debugger;var a=JSON.parse(e.responseText);var o=a.error.innererror.errordetails[0].message;t.show(""+o,{icon:sap.m.MessageBox.Icon.ERROR,title:"Informação",actions:sap.m.MessageBox.Action.OK,styleClass:"",init+
ialFocus:null,textDirection:sap.ui.core.TextDirection.Inherit,verticalScrolling:true,horizontalScrolling:true})}};r.create(i,s,n)},onSelectionChange:function(e){debugger;this.getView().byId("InputVari").setEnabled(true);var t=this.getView().byId("InputVa+
ri");var a=this.getView().byId("InputTran").getSelectedKey();var o=new sap.ui.model.Filter("report",sap.ui.model.FilterOperator.EQ,a);var r=[o];t.getBinding("items").filter(r,sap.ui.model.FilterType.Application);t.setSelectedKey()},onLoadVariant:function+
(e){var t=this.getView().byId("InputTran").getSelectedKey();var a=new sap.ui.model.Filter("report",sap.ui.model.FilterOperator.EQ,t);var o=[a];e.getSource().getBinding("items").filter(o,sap.ui.model.FilterType.Application)}})});                           