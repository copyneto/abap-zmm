sap.ui.define([],function(){"use strict";return{newAttachment:function(e){var t=new sap.m.Dialog({contentWidth:"300px",resizable:true,type:"Message"});t.setTitle("Carregar NF");var a="/sap/opu/odata/SAP/ZMM_PRE_REGISTRO_FISCAL_SRV/";var s=new sap.ui.mode+
l.odata.ODataModel(a,false);var r=this.extensionAPI.getSelectedContexts();if(r.length>0){var n=r.reduce(function(e,t){return t.getObject()},"")}var i=`${a}PdfURLSet(NrNf='${n.NrNf}',CnpjCpf='${n.CnpjCpf}')/FileUploadSet`;var o=new sap.ui.unified.FileUplo+
ader({width:"100%",fileType:"pdf",style:"Emphasized",uploadComplete:function(e){var a=this.oView.sId+"--responsiveTable";var s=this.byId(a);s.getModel().refresh(true);t.close();t.destroy();if(e.mParameters.status=="200"||e.mParameters.status=="201"){sap.+
m.MessageToast.show("Carga realizada com sucesso.")}else{if(e.mParameters.response){alert("Return Code: "+e.mParameters.response,"Response","Response")}}}.bind(this)});o.setName("Simple Uploader");o.setUploadUrl(i);o.setSendXHR(true);o.setUseMultipart(fa+
lse);o.setUploadOnChange(false);var p=new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:s.getSecurityToken()});o.insertHeaderParameter(p);var l=new sap.m.Button({text:"Upload",type:"Accept",press:function(){var e=o.getFocusDomRef();var +
t=e.files[0];if(o.getValue()===""){sap.m.MessageToast.show("Favor selecionar um arquivo");return}var a=new sap.ui.unified.FileUploaderParameter({name:"Content-Type",value:t.type});o.insertHeaderParameter(a);o.insertHeaderParameter(new sap.ui.unified.File+
UploaderParameter({name:"SLUG",value:o.getValue()}));o.upload()}.bind(this)});var d=new sap.m.Button({text:"Cancelar",type:"Reject",press:function(){t.close();t.destroy();this.getView().removeAllDependents()}.bind(this)});t.addContent(o);t.setBeginButton+
(l);t.setEndButton(d);t.open()}}});                                                                                                                                                                                                                            