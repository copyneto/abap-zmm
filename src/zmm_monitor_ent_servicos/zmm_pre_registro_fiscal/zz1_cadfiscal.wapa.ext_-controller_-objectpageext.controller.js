sap.ui.define([],function(){"use strict";return{newAttachment:function(e){let t=e.getSource().getParent().getParent();var a=new sap.m.Dialog({contentWidth:"300px",resizable:true,type:sap.m.DialogType.Message});a.setTitle("Anexar PDF");var r="/sap/opu/oda+
ta/SAP/ZMM_MONITOR_SERVICOS_SRV/";var s=new sap.ui.model.odata.v2.ODataModel(r);var n=new sap.ui.unified.FileUploader({width:"100%",uploadComplete:function(e){a.close();a.destroy();if(e.mParameters.status=="200"||e.mParameters.status=="201"||e.mParameter+
s.status=="204"){t.getModel().refresh(true);sap.m.MessageToast.show("Carga realizada com sucesso.")}else{alert("Return Code: "+e.mParameters.response)}}.bind(this)});n.setName("Simple Uploader");n.setSendXHR(true);n.setUseMultipart(false);n.setUploadOnCh+
ange(false);var o=new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:s.getSecurityToken()});n.insertHeaderParameter(o,0);var i=new sap.m.Button({text:"Upload",type:sap.m.ButtonType.Accept,press:function(){var e=t.getBindingContext().getO+
bject();var a=`${r}PdfurlSet(NrNf='${e.NrNf}',CnpjCpf='${e.CnpjCpf}',Linha='')/UploadSet`;n.setUploadUrl(a);var s=n.getFocusDomRef();if(n.getValue()===""){sap.m.MessageToast.show("Favor selecionar um arquivo");return}var o=new sap.ui.unified.FileUploader+
Parameter({name:"Content-Type",value:s.getAttribute("type")});n.insertHeaderParameter(o,0);n.insertHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:"SLUG",value:n.getValue()}),1);n.upload()}.bind(this)});var p=new sap.m.Button({text:"Cancel+
ar",type:sap.m.ButtonType.Reject,press:function(){a.close();a.destroy();this.getView().removeAllDependents()}.bind(this)});a.addContent(n);a.setBeginButton(p);a.setEndButton(i);a.open()}}});                                                                 