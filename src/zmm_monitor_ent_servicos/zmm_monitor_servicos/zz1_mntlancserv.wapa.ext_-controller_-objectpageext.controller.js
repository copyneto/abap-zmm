sap.ui.define(["sap/m/PDFViewer","sap/m/VBox","sap/m/Label","sap/ui/core/util/File"],function(e,t,a,r,n,s){"use strict";return{ShowPdf:function(t){var a=t.getSource().getParent().getParent().getSelectedContexts();if(a.length>0){var r=t.getSource().getPar+
ent().getParent().getSelectedContexts()[0].getObject()}var n="/sap/opu/odata/SAP/ZMM_MONITOR_SERVICOS_SRV/";var s=n+"ShowPDFSet(NrNf='"+r.NrNf+"',CnpjCpf='"+r.CnpjCpf+"',Linha='"+r.Linha+"')/$value";var o=new e;this.getView().addDependent(o);o.setSource(+
s);o.setTitle("My PDF");o.setShowDownloadButton(false);o.open()},onAnexar:function(e){let t=e.getSource().getParent().getParent();var a=new sap.m.Dialog({contentWidth:"300px",resizable:true,type:"Message"});a.setTitle("Anexar PDF");var r="/sap/opu/odata/+
SAP/ZMM_MONITOR_SERVICOS_SRV/";var n=new sap.ui.model.odata.ODataModel(r,false);var s=new sap.ui.unified.FileUploader({width:"100%",uploadComplete:function(e){t.getModel().refresh(true);a.close();a.destroy();if(e.mParameters.status=="200"||e.mParameters.+
status=="201"||e.mParameters.status=="204"){sap.m.MessageToast.show("Carga realizada com sucesso.")}else{alert("Return Code: "+e.mParameters.response,"Response","Response")}}.bind(this)});s.setName("Simple Uploader");s.setSendXHR(true);s.setUseMultipart(+
false);s.setUploadOnChange(false);var o=new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:n.getSecurityToken()});s.insertHeaderParameter(o);var i=new sap.m.Button({text:"Upload",type:"Accept",press:function(){debugger;var e=t.getBinding+
Context().getObject();var a=`${r}PdfurlSet(NrNf='${e.NrNf}',CnpjCpf='${e.CnpjCpf}',Linha='')/UploadSet`;s.setUploadUrl(a);debugger;var n=s.getFocusDomRef();var o=n.files[0];if(s.getValue()===""){sap.m.MessageToast.show("Favor selecionar um arquivo");retu+
rn}var i=new sap.ui.unified.FileUploaderParameter({name:"Content-Type",value:o.type});s.insertHeaderParameter(i);s.insertHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:"SLUG",value:s.getValue()}));debugger;s.upload()}.bind(this)});var p=n+
ew sap.m.Button({text:"Cancelar",type:"Reject",press:function(){a.close();a.destroy();this.getView().removeAllDependents()}.bind(this)});a.addContent(s);a.setBeginButton(p);a.setEndButton(i);a.open()}}});                                                   